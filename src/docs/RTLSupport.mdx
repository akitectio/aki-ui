import { Meta } from '@storybook/blocks';

<Meta title="Documentation/RTL Support" />

# RTL Support

Aki UI provides robust support for Right-to-Left (RTL) languages like Arabic, Hebrew, and Persian. This guide explains how to implement and customize RTL support in your application.

## Basic RTL Implementation

Aki UI components automatically adapt to RTL direction when the parent HTML element has the `dir="rtl"` attribute.

### Setting up RTL at Document Level

```html
<!DOCTYPE html>
<html dir="rtl" lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RTL App</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

### Setting RTL at Component Level

```jsx
<div dir="rtl">
  <Card>
    <Card.Header>بطاقة عنوان</Card.Header>
    <Card.Body>
      هذا مثال على بطاقة تدعم اللغة العربية واتجاه RTL.
    </Card.Body>
    <Card.Footer>
      <Button variant="primary">موافق</Button>
    </Card.Footer>
  </Card>
</div>
```

## Using the AkiUIProvider

For more dynamic control over text direction, use the built-in `AkiUIProvider` and `useDirection` hook:

```jsx
import { AkiUIProvider, useDirection } from '@akitectio/aki-ui';

// Wrap your app with the provider
const App = () => (
  <AkiUIProvider initialDirection="rtl">
    <MainContent />
  </AkiUIProvider>
);

// Use the direction hook in your components
const DirectionToggle = () => {
  const { direction, toggleDirection } = useDirection();
  
  return (
    <Button onClick={toggleDirection}>
      {direction === 'ltr' ? 'Switch to RTL' : 'Switch to LTR'}
    </Button>
  );
};
```

## RTL Utility Classes

The library includes several utility classes for RTL support:

- `rtl:space-x-reverse`: Reverses spacing between elements in RTL mode
- `rtl:flex-row-reverse`: Reverses flex direction in RTL mode
- `rtl:text-right`: Aligns text to the right in RTL mode
- `rtl:right-0`: Sets right positioning in RTL mode

Example usage:

```jsx
<div className="flex space-x-4 rtl:space-x-reverse">
  <Button variant="primary">First</Button>
  <Button variant="secondary">Second</Button>
</div>

<div className="flex justify-between rtl:flex-row-reverse">
  <Button variant="outline-secondary">Cancel</Button>
  <Button variant="primary">Submit</Button>
</div>
```

## Customizing Direction Storage

You can customize how the direction preference is stored:

```jsx
<AkiUIProvider 
  initialDirection="rtl"
  directionStorageKey="my-app-direction"
>
  <App />
</AkiUIProvider>
```

## Combining with Theme and Color Mode

The `AkiUIProvider` supports simultaneous theming, color mode, and direction controls:

```jsx
<AkiUIProvider 
  theme={customTheme} 
  initialColorMode="dark"
  initialDirection="rtl"
>
  <App />
</AkiUIProvider>
```

## Best Practices

1. **Content Flow**: Remember that in RTL layouts, content flows from right to left.

2. **Icons and Images**: Mirror directional icons (like arrows) in RTL mode.

3. **Forms**: Form labels should appear on the right in RTL mode.

4. **Testing**: Always test your UI in both LTR and RTL modes.

5. **Responsive Design**: Ensure your responsive designs work correctly in RTL mode.
